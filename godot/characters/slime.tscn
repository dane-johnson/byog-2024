[gd_scene load_steps=15 format=3 uid="uid://c13gk07m8ijaw"]

[ext_resource type="PackedScene" uid="uid://cl4xtvvewoa6v" path="res://characters/assets/SlimeSama.glb" id="1_lgbos"]
[ext_resource type="Script" path="res://characters/slime.gd" id="2_174hs"]

[sub_resource type="Gradient" id="Gradient_chkps"]
colors = PackedColorArray(1, 1, 1, 0.819608, 1, 1, 1, 1)

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_reilq"]
height = 167
color_ramp = SubResource("Gradient_chkps")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iudju"]
transparency = 4
albedo_color = Color(0.287251, 0.000994429, 0.524414, 1)
albedo_texture = SubResource("NoiseTexture2D_reilq")

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_i6yce"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_172as"]
animation = &"SlimeIdle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_c6paj"]
animation = &"Movement"

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_w14uk"]
graph_offset = Vector2(-423.333, 6.66667)
nodes/Blend/node = SubResource("AnimationNodeBlend2_i6yce")
nodes/Blend/position = Vector2(93.3333, 146.667)
nodes/Idle/node = SubResource("AnimationNodeAnimation_172as")
nodes/Idle/position = Vector2(-226.667, 253.333)
nodes/Move/node = SubResource("AnimationNodeAnimation_c6paj")
nodes/Move/position = Vector2(-226.667, 80)
node_connections = [&"Blend", 0, &"Move", &"Blend", 1, &"Idle", &"output", 0, &"Blend"]

[sub_resource type="Animation" id="Animation_tjoir"]
resource_name = "Pulse"
length = 200.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Skeleton3D/Cube:surface_material_override/0:albedo_texture:noise:offset")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(1, 200),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 1000, 0), Vector3(0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_aqje5"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Skeleton3D/Cube:surface_material_override/0:albedo_texture:noise:offset")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_0pnd7"]
_data = {
"Pulse": SubResource("Animation_tjoir"),
"RESET": SubResource("Animation_aqje5")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oebo1"]
animation = &"Pulse"

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_ud8ok"]
graph_offset = Vector2(-514.667, -24.27)
nodes/Bubble/node = SubResource("AnimationNodeAnimation_oebo1")
nodes/Bubble/position = Vector2(-13.3333, 80)
nodes/output/position = Vector2(173.333, 93.3333)
node_connections = [&"output", 0, &"Bubble"]

[node name="Slime" instance=ExtResource("1_lgbos")]
script = ExtResource("2_174hs")

[node name="Skeleton3D" parent="." index="0"]
bones/1/position = Vector3(0, -0.00177332, 0)
bones/2/position = Vector3(2.88902e-16, 1.10504, -0.0522724)
bones/2/rotation = Quaternion(-0.0564909, 1.29154e-17, 1.27879e-17, 0.998403)
bones/2/scale = Vector3(0.99639, 0.996389, 0.996389)
bones/3/rotation = Quaternion(0.00165174, 0, 0, 0.999999)
bones/3/scale = Vector3(1.00761, 0.987183, 1.01051)

[node name="Cube" parent="Skeleton3D" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_iudju")

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeBlendTree_w14uk")
anim_player = NodePath("../AnimationPlayer")
parameters/Blend/blend_amount = 0.0

[node name="EffectAnimationPlayer" type="AnimationPlayer" parent="." index="3"]
libraries = {
"": SubResource("AnimationLibrary_0pnd7")
}
autoplay = "Pulse"

[node name="EffectAnimationTree" type="AnimationTree" parent="." index="4"]
tree_root = SubResource("AnimationNodeBlendTree_ud8ok")
anim_player = NodePath("../EffectAnimationPlayer")
